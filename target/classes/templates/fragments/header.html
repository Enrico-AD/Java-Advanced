<div th:fragment="app-header" class="d-flex justify-content-between align-items-center p-3 shadow-sm bg-light"
     xmlns:th="http://www.thymeleaf.org"
     xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

    <h3 class="fw-bold text-primary mb-0">Minha AplicaÃ§Ã£o</h3>

    <div class="d-flex align-items-center gap-3">

        <div sec:authorize="isAuthenticated()">
            <span class="fs-5 fw-semibold text-dark me-2">
                ðŸ‘¤ <span th:text="${#authentication.name}">usuÃ¡rio</span>
            </span>
            <small class="text-muted" th:text="${#authentication.principal.authorities[0].authority}"></small>
        </div>

        <div sec:authorize="!isAuthenticated()">
            <a href="/login" class="btn btn-outline-primary">Login</a>
        </div>

        <div sec:authorize="hasRole('ADMIN')">
            <button class="btn btn-outline-secondary"
                    hx-get="@{/users/list}"
                    hx-target="#dialog"
                    hx-swap="innerHTML">
                â˜°
            </button>
        </div>

        <div sec:authorize="isAuthenticated()">
            <form th:action="@{/logout}" method="post" class="d-inline">
                <button type="submit" class="btn btn-danger">Sair</button>
            </form>
        </div>
    </div>
</div>