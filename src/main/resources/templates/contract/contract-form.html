<div id="dialog" th:fragment="contract-form" class="custom-modal-overlay" xmlns:th="http://www.w3.org/1999/xhtml">
    <div class="custom-modal">
        <div class="modal-header">
            <h5 class="modal-title">Contrato [[${contract.contractNumber}]]</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>

        <form th:object="${contract}"
              method="post"
              th:attr="hx-post=${formAction}"
              th:action="${formAction}"
              hx-target="#contracts-list"
              hx-swap="innerHTML">

            <input type="hidden" th:field="*{id}"/>
            <input type="hidden" th:field="*{tenant.id}"/>
            <input type="hidden" th:field="*{motorcycle.id}"/>

            <div class="form-group">
                <label for="startDate">Data de início</label>
                <input id="startDate" type="date" class="form-control" th:field="*{startDate}"/>
            </div>

            <div class="form-group">
                <label for="endDate">Data de término</label>
                <input id="endDate" type="date" class="form-control" th:field="*{endDate}"/>
            </div>

            <div class="form-group">
                <label>Status</label>
                <select class="form-select" th:field="*{status.id}" required>
                    <option value="">-- Selecione um status --</option>
                    <option th:each="s : ${statuses}"
                            th:value="${s.id}"
                            th:text="${s.description}">
                    </option>
                </select>
            </div>

            <div class="form-group">
                <label>Motocicleta</label>
                <select class="form-select" th:field="*{motorcycle.id}" required>
                    <option value="">-- Selecione uma moto --</option>
                    <option th:each="m : ${motorcycles}"
                            th:value="${m.id}"
                            th:text="${m.model + ' - ' + m.licensePlate}">
                    </option>
                </select>
            </div>

            <div class="form-group">
                <label>Nome</label>
                <input type="text" th:field="*{tenant.fullName}" required/>
            </div>

            <div class="form-group">
                <label>CPF</label>
                <input type="text" th:field="*{tenant.cpf}" required/>
            </div>

            <div class="form-group">
                <label>Endereço</label>
                <input type="text" th:field="*{tenant.address.streetName}" required/>
            </div>

            <div class="form-group">
                <label>Número</label>
                <input type="number" th:field="*{tenant.address.number}" min="1" required/>
            </div>

            <div class="form-group">
                <label>Complemento</label>
                <input type="text" th:field="*{tenant.address.complement}"/>
            </div>

            <div class="form-group">
                <label>CEP</label>
                <input type="text" th:field="*{tenant.address.zipCode}" pattern="\d{8}" required/>
            </div>

            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Salvar</button>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            </div>
        </form>
    </div>
</div>
